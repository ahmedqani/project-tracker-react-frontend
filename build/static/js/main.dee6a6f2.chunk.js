(this["webpackJsonpfrontend-react-redux"]=this["webpackJsonpfrontend-react-redux"]||[]).push([[0],{44:function(e,t,s){},65:function(e,t,s){},66:function(e,t,s){},67:function(e,t,s){"use strict";s.r(t);var n,r=s(2),c=s(18),a=s.n(c),i=s(6),o=s(5),l=(s(44),s(14)),j=s(33);!function(e){e[e.fetchaAllUsers=0]="fetchaAllUsers",e[e.login=1]="login",e[e.logout=2]="logout"}(n||(n={}));var u=s(9),b=s.n(u),d=s(12),O=s(13),m=s.n(O),x=function(){return function(){var e=Object(d.a)(b.a.mark((function e(t){var s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("http://localhost:8090/api/users/all");case 2:s=e.sent,t({type:n.fetchaAllUsers,payload:s.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(d.a)(b.a.mark((function t(s){var r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("In the Action Login !!!"+e),t.next=3,m.a.post("http://localhost:8090/api/users/login",e);case 3:r=t.sent,sessionStorage.setItem("currentUser",JSON.stringify(r.data)),sessionStorage.setItem("logged","true"),console.log(sessionStorage.getItem("currentUser")),s({type:n.login,payload:r.data});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(){sessionStorage.clear();var e={user_id:0,email:"",firstname:"",lastname:"",password:"",profpic:"",userRole:"",username:""};return function(t){return t({type:n.logout,payload:e})}},f={user_id:0,email:"",firstname:"",lastname:"",password:"",profpic:"",userRole:"",username:""},g=Object(l.b)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===n.fetchaAllUsers?t.payload:e},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(console.log("In the LoginReduce With action "+f+t.type.toString),t.type){case n.login:return t.payload;case n.logout:return console.log("IN the Logout Reduces before changing the state!!"),t.payload;default:return e}}}),v=s(3),N=s(4),L=s(8),_=s.n(L),S=s(7),U=s.n(S),E=s(1),w=Object(o.b)((function(e){return{userLogin:e.userLogin}}),{logoutUser:p})((function(e){var t=Object(v.g)();Object(r.useEffect)((function(){0===e.userLogin.user_id&&t("/login"),0!==e.userLogin.user_id&&e.setLogged(!0)}),[e.userLogin]);return Object(E.jsx)("header",{className:U.a.header,children:Object(E.jsxs)("nav",{children:[" ",console.log(e.logged),Object(E.jsxs)("ul",{children:[Object(E.jsx)("li",{children:e.logged?Object(E.jsx)(i.c,{className:function(e){return e.isActive?U.a.active:""},to:"/home",children:"Home"}):Object(E.jsx)(i.c,{className:function(e){return e.isActive?U.a.active:""},to:"/login",children:"Login"})}),e.logged?"":Object(E.jsx)("li",{children:Object(E.jsx)(i.c,{className:function(e){return e.isActive?U.a.active:""},to:"/signup",children:"SignUp"})}),"ADMIN"===e.userLogin.userRole?Object(E.jsx)("li",{children:Object(E.jsx)(i.c,{className:function(e){return e.isActive?U.a.active:""},to:"/admin_all_users",children:"All Users"})}):"","ADMIN"===e.userLogin.userRole?Object(E.jsx)("li",{children:Object(E.jsx)(i.c,{className:function(e){return e.isActive?U.a.active:""},to:"admin_all_projects",children:"All Projects"})}):"",Object(E.jsx)("li",{children:e.logged?Object(E.jsx)(i.c,{className:function(e){return e.isActive?U.a.active:""},onClick:function(){p(),e.setLogged(!1)},to:"/login",children:"Logout"}):""})]})]})})})),y=function(e){var t=Object(r.useState)(!1),s=Object(N.a)(t,2),n=s[0],c=s[1];Object(r.useEffect)((function(){console.log(n)}),[n]);return Object(E.jsxs)(r.Fragment,{children:[Object(E.jsx)(w,{logged:n,setLogged:c}),Object(E.jsx)("main",{className:_.a.main,children:e.children})]})},A=Object(o.b)((function(e){return{userLogin:e.userLogin}}),{logoutUser:p,loginUser:h})((function(e){var t=Object(r.useState)(""),s=Object(N.a)(t,2),n=s[0],c=s[1],a=Object(r.useState)(""),i=Object(N.a)(a,2),o=i[0],l=i[1],j=Object(r.useState)(""),u=Object(N.a)(j,2),b=u[0],d=u[1],O=Object(v.g)();return Object(E.jsx)("div",{children:Object(E.jsxs)("form",{onSubmit:function(t){t.preventDefault();var s={username:n,password:o};e.loginUser(s),0!==e.userLogin.user_id&&O("/login"),0===e.userLogin.user_id&&d("Please make sure the username and password correct")},children:[Object(E.jsx)("div",{className:"text-danger",children:b}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"Username:"}),Object(E.jsx)("input",{type:"text",className:"form-control",value:n,onChange:function(e){c(e.target.value)},required:!0})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"Password:"}),Object(E.jsx)("input",{type:"text",className:"form-control",value:o,onChange:function(e){l(e.target.value)},required:!0})]}),Object(E.jsx)("br",{}),Object(E.jsx)("input",{className:"form-control btn btn-primary btn-block",type:"submit",value:"Submit"})]})})})),C=Object(o.b)((function(e){return{userLogin:e.userLogin}}),{})((function(e){var t=Object(r.useState)(e.userLogin.user_id),s=Object(N.a)(t,2),n=s[0],c=(s[1],Object(r.useState)(e.userLogin.username)),a=Object(N.a)(c,2),i=a[0],o=a[1],l=Object(r.useState)(e.userLogin.password),j=Object(N.a)(l,2),u=j[0],O=j[1],x=Object(r.useState)(e.userLogin.email),p=Object(N.a)(x,2),f=p[0],g=p[1],v=Object(r.useState)(e.userLogin.firstname),L=Object(N.a)(v,2),_=L[0],S=L[1],U=Object(r.useState)(e.userLogin.lastname),w=Object(N.a)(U,2),y=w[0],A=w[1],C=Object(r.useState)(e.userLogin.profpic),k=Object(N.a)(C,2),R=k[0],I=(k[1],Object(r.useState)(e.userLogin.userRole)),P=Object(N.a)(I,2),M=P[0],q=P[1],D=Object(r.useState)(""),T=Object(N.a)(D,2),H=T[0],B=T[1];Object(r.useEffect)((function(){}),[e.userLogin]);var F=function(){var e=Object(d.a)(b.a.mark((function e(t){var s,r,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s={user_id:n,email:f,firstname:_,lastname:y,password:u,profpic:R,userRole:M,username:i},r={username:i,password:u},e.next=5,m.a.put("http://localhost:8090/api/users/update/"+n,s);case 5:c=e.sent,console.log(c.data),0!==c.data.user_id?(h(r),B(c.data.username+" Was Updated!! ")):B("User Coulndt be Updated!! something went wrong!!!");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{children:Object(E.jsx)("div",{children:Object(E.jsxs)("form",{onSubmit:F,children:[Object(E.jsx)("h3",{children:"Update your information"}),Object(E.jsx)("h2",{children:H}),Object(E.jsx)("div",{children:Object(E.jsx)("img",{src:null==R||""===R?"https://ptracker-java-react.s3.us-east-2.amazonaws.com/images/profile.png":"https://ptracker-java-react.s3.us-east-2.amazonaws.com/images/"+R,alt:""})}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"User ID"}),Object(E.jsx)("input",{type:"text",className:"form-control",value:n,name:"user_id",disabled:!0})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"First name"}),Object(E.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return S(e.target.value)},value:_,name:"firstname",required:!0})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"Last name"}),Object(E.jsx)("input",{type:"text",className:"form-control",placeholder:"Last name",value:y,onChange:function(e){return A(e.target.value)},name:"lastname",required:!0})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"Username"}),Object(E.jsx)("input",{type:"text",className:"form-control",placeholder:"Username",value:i,onChange:function(e){return o(e.target.value)},name:"username",required:!0})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"Email address"}),Object(E.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter email",value:f,onChange:function(e){return g(e.target.value)},name:"email",required:!0})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"Password"}),Object(E.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",value:u,onChange:function(e){return O(e.target.value)},name:"password",required:!0})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"User Role"}),Object(E.jsxs)("select",{className:"form-control",name:"userRole",onChange:function(e){"ADMIN"===e.target.value&&q("ADMIN"),"ADMIN"===e.target.value&&q("USER")},defaultValue:M,children:[Object(E.jsx)("option",{value:"ADMIN",children:"ADMIN"}),Object(E.jsx)("option",{value:"USER",children:"USER"})]})]}),Object(E.jsx)("br",{}),Object(E.jsx)("input",{type:"submit",className:"form-control btn btn-primary btn-block",value:"Update User"})]})})},e.userLogin.user_id)})),k=s(20),R=s(23),I=(s(65),s(0)),P=s(15),M=function(e){e.updateClickedPage;var t=Object(r.useState)(!1),s=Object(N.a)(t,2),n=s[0],c=s[1],a=function(){return c(!n)};return Object(E.jsxs)(I.b.Provider,{value:{color:"#b78d8d"},children:[Object(E.jsx)("div",{className:"navbar",children:Object(E.jsx)(i.b,{to:"#",className:"menu-bars",children:Object(E.jsx)(k.a,{onClick:a})})}),Object(E.jsx)("nav",{className:n?"nav-menu active":"nav-menu",children:Object(E.jsxs)("ul",{className:"nav-menu-items",onClick:a,children:[Object(E.jsx)("li",{className:"navbar-toggle",children:Object(E.jsx)(i.b,{to:"#",className:"menu-bars",children:Object(E.jsx)(R.b,{})})}),Object(E.jsx)("li",{className:"nav-text",children:Object(E.jsxs)(i.c,{className:function(e){return e.isActive?U.a.active:""},to:"/home",children:[Object(E.jsx)(R.a,{}),"Profile"]})}),Object(E.jsx)("li",{className:"nav-text",children:Object(E.jsxs)(i.c,{className:function(e){return e.isActive?U.a.active:""},to:"/user_projects",children:[Object(E.jsx)(P.a,{}),"All Projects"]})}),Object(E.jsx)("li",{className:"nav-text",children:Object(E.jsxs)(i.c,{className:function(e){return e.isActive?U.a.active:""},to:"/user_tasks",children:[Object(E.jsx)(k.b,{}),"Your Tasks"]})}),Object(E.jsx)("li",{className:"nav-text",children:Object(E.jsxs)(i.c,{className:function(e){return e.isActive?U.a.active:""},to:"/new_project",children:[Object(E.jsx)(P.c,{}),"New Project"]})}),Object(E.jsx)("li",{className:"nav-text",children:Object(E.jsxs)(i.c,{className:function(e){return e.isActive?U.a.active:""},to:"/new_task",children:[Object(E.jsx)(k.c,{}),"New Task"]})}),Object(E.jsx)("li",{className:"nav-text",children:Object(E.jsxs)(i.c,{className:function(e){return e.isActive?U.a.active:""},to:"/edit_project",children:[Object(E.jsx)(P.b,{}),"Edit Project"]})}),Object(E.jsx)("li",{className:"nav-text",children:Object(E.jsxs)(i.c,{className:function(e){return e.isActive?U.a.active:""},to:"/edit_task",children:[Object(E.jsx)(P.b,{}),"Edit Task"]})})]})})]})},q=Object(o.b)((function(e){return{userLogin:e.userLogin}}),{logoutUser:p,loginUser:h})((function(e){return Object(r.useEffect)((function(){}),[]),Object(E.jsxs)("div",{children:[Object(E.jsx)(M,{}),Object(E.jsx)("section",{className:"sideBarContent",children:Object(E.jsx)(C,{})})]})})),D=Object(o.b)((function(e){return{users:e.users}}),{fetchAllUsers:x})((function(e){var t=function(e){return null==e.profpic?"https://ptracker-java-react.s3.us-east-2.amazonaws.com/images/profile.png":"https://ptracker-java-react.s3.us-east-2.amazonaws.com/images/"+e.profpic};return Object(E.jsxs)("div",{children:[Object(E.jsx)("button",{onClick:function(){e.fetchAllUsers()},children:"FETCH USERS"}),e.users.map((function(e){return Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{children:Object(E.jsx)("img",{src:t(e),alt:""})}),e.username,Object(E.jsx)("br",{}),e.firstname,Object(E.jsx)("br",{}),e.lastname,Object(E.jsx)("br",{}),e.email,Object(E.jsx)("br",{}),e.userRole,Object(E.jsx)("br",{})]},e.user_id)}))]})})),T=Object(o.b)((function(e){return{userLogin:e.userLogin}}),{})((function(e){var t=Object(r.useState)(""),s=Object(N.a)(t,2),n=s[0],c=s[1],a=Object(r.useState)(""),o=Object(N.a)(a,2),l=o[0],j=o[1],u=Object(r.useState)(""),O=Object(N.a)(u,2),x=O[0],h=O[1],p=Object(r.useState)(""),f=Object(N.a)(p,2),g=f[0],v=f[1],L=Object(r.useState)(""),_=Object(N.a)(L,2),S=_[0],U=_[1],w=Object(r.useState)(""),y=Object(N.a)(w,2),A=y[0],C=y[1],k=function(){var e=Object(d.a)(b.a.mark((function e(t){var s,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s={user_id:0,email:x,firstname:g,lastname:S,password:l,profpic:"",userRole:"USER",username:n},e.next=4,m.a.post("http://localhost:8090/api/users/save",s);case 4:0!==(r=e.sent).data.user_id?C(r.data.username+" Was Created You May Login Now"):C("User Coulndt be Created something went wrong!!!");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)("div",{children:Object(E.jsxs)("form",{onSubmit:k,children:[Object(E.jsx)("h3",{children:"Sign Up"}),Object(E.jsx)("h2",{children:A}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"First name"}),Object(E.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return v(e.target.value)},placeholder:"First name",name:"firstname",required:!0})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"Last name"}),Object(E.jsx)("input",{type:"text",className:"form-control",placeholder:"Last name",onChange:function(e){return U(e.target.value)},name:"lastname",required:!0})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"Username"}),Object(E.jsx)("input",{type:"text",className:"form-control",placeholder:"Username",onChange:function(e){return c(e.target.value)},name:"username",required:!0})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"Email address"}),Object(E.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter email",onChange:function(e){return h(e.target.value)},name:"email",required:!0})]}),Object(E.jsxs)("div",{className:"form-group",children:[Object(E.jsx)("label",{children:"Password"}),Object(E.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",onChange:function(e){return j(e.target.value)},name:"password",required:!0})]}),Object(E.jsx)("br",{}),Object(E.jsx)("input",{type:"submit",className:"form-control btn btn-primary btn-block",value:"Sign up"}),Object(E.jsxs)("p",{className:"forgot-password text-right",children:["Already registered ",Object(E.jsx)(i.c,{to:"/login",children:"sign in?"})]})]})})})),H=(s(66),Object(o.b)((function(e){return{userLogin:e.userLogin}}),{logoutUser:p,loginUser:h})((function(e){return Object(r.useEffect)((function(){}),[]),Object(E.jsxs)("div",{children:[Object(E.jsx)(M,{}),Object(E.jsx)("section",{className:_.a.sideBarContent,children:Object(E.jsx)("p",{children:"ALL PROJECTS GO HERE!!!"})})]})}))),B=Object(o.b)((function(e){return{userLogin:e.userLogin}}),{logoutUser:p,loginUser:h})((function(e){return Object(r.useEffect)((function(){}),[]),Object(E.jsxs)("div",{children:[Object(E.jsx)(M,{}),Object(E.jsx)("section",{className:_.a.sideBarContent,children:Object(E.jsx)("p",{children:"USER TASKS GOES HERE!!!"})})]})})),F=Object(o.b)((function(e){return{userLogin:e.userLogin}}),{logoutUser:p,loginUser:h})((function(e){return Object(r.useEffect)((function(){}),[]),Object(E.jsxs)("div",{children:[Object(E.jsx)(M,{}),Object(E.jsx)("section",{className:_.a.sideBarContent,children:Object(E.jsx)("p",{children:"NEW PROJECT FORM GOES HERE!!!"})})]})})),J=Object(o.b)((function(e){return{userLogin:e.userLogin}}),{logoutUser:p,loginUser:h})((function(e){return Object(r.useEffect)((function(){}),[]),Object(E.jsxs)("div",{children:[Object(E.jsx)(M,{}),Object(E.jsx)("section",{className:_.a.sideBarContent,children:Object(E.jsx)("p",{children:"NEW TASK FORM GOES HERE!!!"})})]})})),z=Object(o.b)((function(e){return{userLogin:e.userLogin}}),{logoutUser:p,loginUser:h})((function(e){return Object(r.useEffect)((function(){}),[]),Object(E.jsxs)("div",{children:[Object(E.jsx)(M,{}),Object(E.jsx)("section",{className:_.a.sideBarContent,children:Object(E.jsx)("p",{children:"Edit Project FORM GOES HERE!!!"})})]})})),G=Object(o.b)((function(e){return{userLogin:e.userLogin}}),{logoutUser:p,loginUser:h})((function(e){return Object(r.useEffect)((function(){}),[]),Object(E.jsxs)("div",{children:[Object(E.jsx)(M,{}),Object(E.jsx)("section",{className:_.a.sideBarContent,children:Object(E.jsx)("p",{children:"Edit TASK FORM GOES HERE!!!"})})]})})),W=Object(o.b)((function(e){return{users:e.users}}),{fetchAllUsers:x})((function(e){var t=function(e){return null==e.profpic?"https://ptracker-java-react.s3.us-east-2.amazonaws.com/images/profile.png":"https://ptracker-java-react.s3.us-east-2.amazonaws.com/images/"+e.profpic};return Object(E.jsxs)("div",{children:[Object(E.jsx)("button",{onClick:function(){e.fetchAllUsers()},children:"FETCH USERS"}),e.users.map((function(e){return Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{children:Object(E.jsx)("img",{src:t(e),alt:""})}),e.username,Object(E.jsx)("br",{}),e.firstname,Object(E.jsx)("br",{}),e.lastname,Object(E.jsx)("br",{}),e.email,Object(E.jsx)("br",{}),e.userRole,Object(E.jsx)("br",{})]},e.user_id)}))]})})),K=function(e){return Object(E.jsx)(y,{children:Object(E.jsxs)(v.d,{children:[Object(E.jsx)(v.b,{path:"/",element:Object(E.jsx)(v.a,{replace:!0,to:"/login"})}),Object(E.jsx)(v.b,{path:"/login",element:Object(E.jsx)(A,{})}),Object(E.jsx)(v.b,{path:"/signup",element:Object(E.jsx)(T,{})}),Object(E.jsx)(v.b,{path:"/home",element:Object(E.jsx)(q,{})}),Object(E.jsx)(v.b,{path:"/admin_all_users",element:Object(E.jsx)(D,{})}),Object(E.jsx)(v.b,{path:"/admin_all_projects",element:Object(E.jsx)(W,{})}),Object(E.jsx)(v.b,{path:"/user_projects",element:Object(E.jsx)(H,{})}),Object(E.jsx)(v.b,{path:"/user_tasks",element:Object(E.jsx)(B,{})}),Object(E.jsx)(v.b,{path:"/new_project",element:Object(E.jsx)(F,{})}),Object(E.jsx)(v.b,{path:"/new_task",element:Object(E.jsx)(J,{})}),Object(E.jsx)(v.b,{path:"/edit_project",element:Object(E.jsx)(z,{})}),Object(E.jsx)(v.b,{path:"/edit_task",element:Object(E.jsx)(G,{})})]})})},Y=Object(l.d)(g,Object(l.c)(Object(l.a)(j.a)));a.a.render(Object(E.jsx)(o.a,{store:Y,children:Object(E.jsx)(i.a,{children:Object(E.jsx)(K,{})})}),document.getElementById("root"))},7:function(e,t,s){e.exports={header:"MainHeader_header__26rKk",active:"MainHeader_active__aTJyT"}},8:function(e,t,s){e.exports={sideBarContent:"Layout_sideBarContent__1gJiu","auth-wrapper":"Layout_auth-wrapper__f07Dm","auth-inner":"Layout_auth-inner__3W5pN","form-control":"Layout_form-control__1y88P"}}},[[67,1,2]]]);
//# sourceMappingURL=main.dee6a6f2.chunk.js.map