(this["webpackJsonpfrontend-react-redux"]=this["webpackJsonpfrontend-react-redux"]||[]).push([[0],{16:function(e,t,n){e.exports={header:"MainHeader_header__26rKk",active:"MainHeader_active__aTJyT"}},30:function(e,t,n){e.exports={main:"Layout_main__1Y6ui"}},44:function(e,t,n){},45:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var r,s=n(0),c=n.n(s),a=n(12),i=n.n(a),o=n(8),u=n(7),l=(n(44),n(28)),j=n(29),h=n(33),b=n(32);n(45);!function(e){e[e.fetchaAllUsers=0]="fetchaAllUsers",e[e.login=1]="login",e[e.logout=2]="logout"}(r||(r={}));var d=n(9),p=n.n(d),O=n(13),g=n(14),f=n.n(g),x=function(e){return function(){var t=Object(O.a)(p.a.mark((function t(n){var s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("In the Action Login !!!"+e),t.next=3,f.a.post("http://localhost:8090/api/users/login",e);case 3:s=t.sent,localStorage.setItem("currentUser",JSON.stringify(s.data)),console.log(localStorage.getItem("currentUser")),n({type:r.login,payload:s.data});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(){return function(e){return e({type:r.logout})}},v=n(1),U=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={username:"",password:""},e.onClickFetchUsers=function(){e.props.fetchAllUsers()},e.handleChangeUserName=function(t){e.setState({username:t.target.value})},e.handleChangePassword=function(t){e.setState({password:t.target.value})},e.handleSubmitLogin=function(t){t.preventDefault(),e.props.loginUser(e.state)},e.onClickGetCurrentUser=function(t){console.log(e.props.userLogin)},e}return Object(j.a)(n,[{key:"renderPic",value:function(e){return null==e.profpic?"https://ptracker-java-react.s3.us-east-2.amazonaws.com/images/profile.png":"https://ptracker-java-react.s3.us-east-2.amazonaws.com/images/"+e.profpic}},{key:"renderUsers",value:function(){var e=this;return this.props.users.map((function(t){return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{children:Object(v.jsx)("img",{src:e.renderPic(t),alt:""})}),t.username,Object(v.jsx)("br",{}),t.firstname,Object(v.jsx)("br",{}),t.lastname,Object(v.jsx)("br",{}),t.email,Object(v.jsx)("br",{}),t.userRole,Object(v.jsx)("br",{})]},t.user_id)}))}},{key:"render",value:function(){return console.log(this.props.users),Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{children:Object(v.jsxs)("form",{onSubmit:this.handleSubmitLogin,children:[Object(v.jsxs)("label",{children:["UserName:",Object(v.jsx)("input",{type:"text",value:this.state.username,onChange:this.handleChangeUserName})]}),Object(v.jsxs)("label",{children:["UserName:",Object(v.jsx)("input",{type:"text",value:this.state.password,onChange:this.handleChangePassword})]}),Object(v.jsx)("input",{type:"submit",value:"Submit"})]})}),Object(v.jsx)("h1",{children:"CURRENT USER IS:"}),Object(v.jsx)("button",{onClick:this.onClickGetCurrentUser,children:"Get Current User (Check Console)"}),Object(v.jsx)("br",{}),Object(v.jsx)("button",{onClick:this.onClickFetchUsers,children:"FETCH USERS"}),this.renderUsers()]})}}]),n}(c.a.Component),y=Object(u.b)((function(e){return{users:e.users,userLogin:e.userLogin}}),{fetchAllUsers:function(){return function(){var e=Object(O.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://52.14.40.145:8080/api/users/all");case 2:n=e.sent,t({type:r.fetchaAllUsers,payload:n.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},logoutUser:m,loginUser:x})(U),C=n(6),S=n(31),k=localStorage.getItem("currentUser"),w=Object(C.b)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===r.fetchaAllUsers?t.payload:e},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(console.log("In the LoginReduce With action "+k+t),t.type){case r.login:return t.payload;case r.logout:default:return e}}}),L=n(2),N=n(30),A=n.n(N),_=n(16),I=n.n(_),E=function(e){return Object(v.jsx)("header",{className:I.a.header,children:Object(v.jsx)("nav",{children:Object(v.jsxs)("ul",{children:[Object(v.jsx)("li",{children:Object(v.jsx)(o.b,{className:function(e){return e.isActive?I.a.active:""},to:"/home",children:"Home"})}),Object(v.jsx)("li",{children:Object(v.jsx)(o.b,{className:function(e){return e.isActive?I.a.active:""},to:"/login",children:"Login"})})]})})})},R=function(e){return Object(v.jsxs)(s.Fragment,{children:[Object(v.jsx)(E,{}),Object(v.jsx)("main",{className:A.a.main,children:e.children})]})},H=n(5),F=Object(u.b)((function(e){return{userLogin:e.userLogin}}),{logoutUser:m,loginUser:x})((function(e){var t=Object(s.useState)(""),n=Object(H.a)(t,2),r=n[0],c=n[1],a=Object(s.useState)(""),i=Object(H.a)(a,2),o=i[0],u=i[1];return Object(v.jsx)("div",{children:Object(v.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={username:r,password:o};e.loginUser(n),console.log(e.loginUser(n))},children:[Object(v.jsxs)("label",{children:["UserName:",Object(v.jsx)("input",{type:"text",value:r,onChange:function(e){c(e.target.value)}})]}),Object(v.jsxs)("label",{children:["UserName:",Object(v.jsx)("input",{type:"text",value:o,onChange:function(e){u(e.target.value)}})]}),Object(v.jsx)("input",{type:"submit",value:"Submit"})]})})})),J=function(e){return Object(v.jsx)("div",{children:"HOME"})},P=function(e){return Object(v.jsx)(R,{children:Object(v.jsxs)(L.d,{children:[Object(v.jsx)(L.b,{path:"/",element:Object(v.jsx)(L.a,{replace:!0,to:"/home"})}),Object(v.jsx)(L.b,{path:"/login",element:Object(v.jsx)(F,{})}),Object(v.jsx)(L.b,{path:"/home",element:Object(v.jsx)(J,{})})]})})},T=Object(C.d)(w,Object(C.c)(Object(C.a)(S.a)));i.a.render(Object(v.jsx)(u.a,{store:T,children:Object(v.jsxs)(o.a,{children:[Object(v.jsx)(P,{}),Object(v.jsx)(y,{})]})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.d9be5a59.chunk.js.map